var nr=Object.defineProperty;var or=(e,t,r)=>t in e?nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var pe=(e,t,r)=>or(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const sr={context:void 0,registry:void 0},ir=(e,t)=>e===t,G=Symbol("solid-proxy"),et=Symbol("solid-track"),Oe={equals:ir};let Pt=zt;const ne=1,Ie=2,jt={owned:null,cleanups:null,context:null,owner:null};var A=null;let Ue=null,lr=null,D=null,q=null,Z=null,Ne=0;function we(e,t){const r=D,n=A,o=e.length===0,s=t===void 0?n:t,i=o?jt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=o?e:()=>e(()=>M(()=>ze(i)));A=i,D=null;try{return le(l,!0)}finally{D=r,A=n}}function B(e,t){t=t?Object.assign({},Oe,t):Oe;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=o=>(typeof o=="function"&&(o=o(r.value)),Bt(r,o));return[Nt.bind(r),n]}function I(e,t,r){const n=at(e,t,!1,ne);Ce(n)}function N(e,t,r){Pt=gr;const n=at(e,t,!1,ne);(!r||!r.render)&&(n.user=!0),Z?Z.push(n):Ce(n)}function k(e,t,r){r=r?Object.assign({},Oe,r):Oe;const n=at(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,Ce(n),Nt.bind(n)}function Y(e){return le(e,!1)}function M(e){if(D===null)return e();const t=D;D=null;try{return e()}finally{D=t}}function Be(e){N(()=>M(e))}function ee(e){return A===null||(A.cleanups===null?A.cleanups=[e]:A.cleanups.push(e)),e}function tt(){return D}function ar(){return A}function cr(e,t){const r=A,n=D;A=e,D=null;try{return le(t,!0)}catch(o){ct(o)}finally{A=r,D=n}}function Lt(e,t){const r=Symbol("context");return{id:r,Provider:vr(r),defaultValue:e}}function Mt(e){return A&&A.context&&A.context[e.id]!==void 0?A.context[e.id]:e.defaultValue}function ur(e){const t=k(e),r=k(()=>rt(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function Nt(){if(this.sources&&this.state)if(this.state===ne)Ce(this);else{const e=q;q=null,le(()=>Te(this),!1),q=e}if(D){const e=this.observers?this.observers.length:0;D.sources?(D.sources.push(this),D.sourceSlots.push(e)):(D.sources=[this],D.sourceSlots=[e]),this.observers?(this.observers.push(D),this.observerSlots.push(D.sources.length-1)):(this.observers=[D],this.observerSlots=[D.sources.length-1])}return this.value}function Bt(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&le(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o],i=Ue&&Ue.running;i&&Ue.disposed.has(s),(i?!s.tState:!s.state)&&(s.pure?q.push(s):Z.push(s),s.observers&&Rt(s)),i||(s.state=ne)}if(q.length>1e6)throw q=[],new Error},!1)),t}function Ce(e){if(!e.fn)return;ze(e);const t=Ne;dr(e,e.value,t)}function dr(e,t,r){let n;const o=A,s=D;D=A=e;try{n=e.fn(t)}catch(i){return e.pure&&(e.state=ne,e.owned&&e.owned.forEach(ze),e.owned=null),e.updatedAt=r+1,ct(i)}finally{D=s,A=o}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Bt(e,n):e.value=n,e.updatedAt=r)}function at(e,t,r,n=ne,o){const s={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:A,context:A?A.context:null,pure:r};return A===null||A!==jt&&(A.owned?A.owned.push(s):A.owned=[s]),s}function De(e){if(e.state===0)return;if(e.state===Ie)return Te(e);if(e.suspense&&M(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ne);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===ne)Ce(e);else if(e.state===Ie){const n=q;q=null,le(()=>Te(e,t[0]),!1),q=n}}function le(e,t){if(q)return e();let r=!1;t||(q=[]),Z?r=!0:Z=[],Ne++;try{const n=e();return fr(r),n}catch(n){r||(Z=null),q=null,ct(n)}}function fr(e){if(q&&(zt(q),q=null),e)return;const t=Z;Z=null,t.length&&le(()=>Pt(t),!1)}function zt(e){for(let t=0;t<e.length;t++)De(e[t])}function gr(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:De(n)}for(t=0;t<r;t++)De(e[t])}function Te(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const o=n.state;o===ne?n!==t&&(!n.updatedAt||n.updatedAt<Ne)&&De(n):o===Ie&&Te(n,t)}}}function Rt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Ie,r.pure?q.push(r):Z.push(r),r.observers&&Rt(r))}}function ze(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),o=r.observers;if(o&&o.length){const s=o.pop(),i=r.observerSlots.pop();n<o.length&&(s.sourceSlots[i]=n,o[n]=s,r.observerSlots[n]=i)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ze(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function hr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ct(e,t=A){throw hr(e)}function rt(e){if(typeof e=="function"&&!e.length)return rt(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=rt(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function vr(e,t){return function(n){let o;return I(()=>o=M(()=>(A.context={...A.context,[e]:n.value},ur(()=>n.children))),void 0),o}}const mr=Symbol("fallback");function bt(e){for(let t=0;t<e.length;t++)e[t]()}function pr(e,t,r={}){let n=[],o=[],s=[],i=0,l=t.length>1?[]:null;return ee(()=>bt(s)),()=>{let a=e()||[],u,c;return a[et],M(()=>{let h=a.length,p,x,_,b,O,T,E,P,j;if(h===0)i!==0&&(bt(s),s=[],n=[],o=[],i=0,l&&(l=[])),r.fallback&&(n=[mr],o[0]=we(Q=>(s[0]=Q,r.fallback())),i=1);else if(i===0){for(o=new Array(h),c=0;c<h;c++)n[c]=a[c],o[c]=we(d);i=h}else{for(_=new Array(h),b=new Array(h),l&&(O=new Array(h)),T=0,E=Math.min(i,h);T<E&&n[T]===a[T];T++);for(E=i-1,P=h-1;E>=T&&P>=T&&n[E]===a[P];E--,P--)_[P]=o[E],b[P]=s[E],l&&(O[P]=l[E]);for(p=new Map,x=new Array(P+1),c=P;c>=T;c--)j=a[c],u=p.get(j),x[c]=u===void 0?-1:u,p.set(j,c);for(u=T;u<=E;u++)j=n[u],c=p.get(j),c!==void 0&&c!==-1?(_[c]=o[u],b[c]=s[u],l&&(O[c]=l[u]),c=x[c],p.set(j,c)):s[u]();for(c=T;c<h;c++)c in _?(o[c]=_[c],s[c]=b[c],l&&(l[c]=O[c],l[c](c))):o[c]=we(d);o=o.slice(0,i=h),n=a.slice(0)}return o});function d(h){if(s[c]=h,l){const[p,x]=B(c);return l[c]=x,t(a[c],p)}return t(a[c])}}}function g(e,t){return M(()=>e(t||{}))}function Ae(){return!0}const nt={get(e,t,r){return t===G?r:e.get(t)},has(e,t){return t===G?!0:e.has(t)},set:Ae,deleteProperty:Ae,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ae,deleteProperty:Ae}},ownKeys(e){return e.keys()}};function Ge(e){return(e=typeof e=="function"?e():e)?e:{}}function br(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function V(...e){let t=!1;for(let i=0;i<e.length;i++){const l=e[i];t=t||!!l&&G in l,e[i]=typeof l=="function"?(t=!0,k(l)):l}if(t)return new Proxy({get(i){for(let l=e.length-1;l>=0;l--){const a=Ge(e[l])[i];if(a!==void 0)return a}},has(i){for(let l=e.length-1;l>=0;l--)if(i in Ge(e[l]))return!0;return!1},keys(){const i=[];for(let l=0;l<e.length;l++)i.push(...Object.keys(Ge(e[l])));return[...new Set(i)]}},nt);const r={},n=Object.create(null);for(let i=e.length-1;i>=0;i--){const l=e[i];if(!l)continue;const a=Object.getOwnPropertyNames(l);for(let u=a.length-1;u>=0;u--){const c=a[u];if(c==="__proto__"||c==="constructor")continue;const d=Object.getOwnPropertyDescriptor(l,c);if(!n[c])n[c]=d.get?{enumerable:!0,configurable:!0,get:br.bind(r[c]=[d.get.bind(l)])}:d.value!==void 0?d:void 0;else{const h=r[c];h&&(d.get?h.push(d.get.bind(l)):d.value!==void 0&&h.push(()=>d.value))}}}const o={},s=Object.keys(n);for(let i=s.length-1;i>=0;i--){const l=s[i],a=n[l];a&&a.get?Object.defineProperty(o,l,a):o[l]=a?a.value:void 0}return o}function te(e,...t){if(G in e){const o=new Set(t.length>1?t.flat():t[0]),s=t.map(i=>new Proxy({get(l){return i.includes(l)?e[l]:void 0},has(l){return i.includes(l)&&l in e},keys(){return i.filter(l=>l in e)}},nt));return s.push(new Proxy({get(i){return o.has(i)?void 0:e[i]},has(i){return o.has(i)?!1:i in e},keys(){return Object.keys(e).filter(i=>!o.has(i))}},nt)),s}const r={},n=t.map(()=>({}));for(const o of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,o),i=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let l=!1,a=0;for(const u of t)u.includes(o)&&(l=!0,i?n[a][o]=s.value:Object.defineProperty(n[a],o,s)),++a;l||(i?r[o]=s.value:Object.defineProperty(r,o,s))}return[...n,r]}const yr=e=>`Stale read from <${e}>.`;function Re(e){const t="fallback"in e&&{fallback:()=>e.fallback};return k(pr(()=>e.each,e.children,t||void 0))}function ve(e){const t=e.keyed,r=k(()=>e.when,void 0,{equals:(n,o)=>t?n===o:!n==!o});return k(()=>{const n=r();if(n){const o=e.children;return typeof o=="function"&&o.length>0?M(()=>o(t?n:()=>{if(!M(r))throw yr("Show");return e.when})):o}return e.fallback},void 0,void 0)}const wr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],$r=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...wr]),xr=new Set(["innerHTML","textContent","innerText","children"]),Sr=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Cr=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function kr(e,t){const r=Cr[e];return typeof r=="object"?r[t]?r.$:void 0:r}const _r=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ar=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Or={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ir(e,t,r){let n=r.length,o=t.length,s=n,i=0,l=0,a=t[o-1].nextSibling,u=null;for(;i<o||l<s;){if(t[i]===r[l]){i++,l++;continue}for(;t[o-1]===r[s-1];)o--,s--;if(o===i){const c=s<n?l?r[l-1].nextSibling:r[s-l]:a;for(;l<s;)e.insertBefore(r[l++],c)}else if(s===l)for(;i<o;)(!u||!u.has(t[i]))&&t[i].remove(),i++;else if(t[i]===r[s-1]&&r[l]===t[o-1]){const c=t[--o].nextSibling;e.insertBefore(r[l++],t[i++].nextSibling),e.insertBefore(r[--s],c),t[o]=r[s]}else{if(!u){u=new Map;let d=l;for(;d<s;)u.set(r[d],d++)}const c=u.get(t[i]);if(c!=null)if(l<c&&c<s){let d=i,h=1,p;for(;++d<o&&d<s&&!((p=u.get(t[d]))==null||p!==c+h);)h++;if(h>c-l){const x=t[i];for(;l<c;)e.insertBefore(r[l++],x)}else e.replaceChild(r[l++],t[i++])}else i++;else t[i++].remove()}}}const yt="_$DX_DELEGATE";function Dr(e,t,r,n={}){let o;return we(s=>{o=s,t===document?e():v(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{o(),t.textContent=""}}function $(e,t,r){let n;const o=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},s=()=>(n||(n=o())).cloneNode(!0);return s.cloneNode=s,s}function Wt(e,t=window.document){const r=t[yt]||(t[yt]=new Set);for(let n=0,o=e.length;n<o;n++){const s=e[n];r.has(s)||(r.add(s),t.addEventListener(s,Mr))}}function re(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function Tr(e,t,r,n){n==null?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,n)}function y(e,t){t==null?e.removeAttribute("class"):e.className=t}function Er(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const o=r[0];e.addEventListener(t,r[0]=s=>o.call(e,r[1],s))}else e.addEventListener(t,r)}function Pr(e,t,r={}){const n=Object.keys(t||{}),o=Object.keys(r);let s,i;for(s=0,i=o.length;s<i;s++){const l=o[s];!l||l==="undefined"||t[l]||(wt(e,l,!1),delete r[l])}for(s=0,i=n.length;s<i;s++){const l=n[s],a=!!t[l];!l||l==="undefined"||r[l]===a||!a||(wt(e,l,!0),r[l]=a)}return r}function qt(e,t,r){if(!t)return r?re(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let o,s;for(s in r)t[s]==null&&n.removeProperty(s),delete r[s];for(s in t)o=t[s],o!==r[s]&&(n.setProperty(s,o),r[s]=o);return r}function oe(e,t={},r,n){const o={};return n||I(()=>o.children=$e(e,t.children,o.children)),I(()=>typeof t.ref=="function"?me(t.ref,e):t.ref=e),I(()=>jr(e,t,r,!0,o,!0)),o}function me(e,t,r){return M(()=>e(t,r))}function v(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return $e(e,t,n,r);I(o=>$e(e,t(),o,r),n)}function jr(e,t,r,n,o={},s=!1){t||(t={});for(const i in o)if(!(i in t)){if(i==="children")continue;o[i]=$t(e,i,null,o[i],r,s)}for(const i in t){if(i==="children")continue;const l=t[i];o[i]=$t(e,i,l,o[i],r,s)}}function Lr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function wt(e,t,r){const n=t.trim().split(/\s+/);for(let o=0,s=n.length;o<s;o++)e.classList.toggle(n[o],r)}function $t(e,t,r,n,o,s){let i,l,a,u,c;if(t==="style")return qt(e,r,n);if(t==="classList")return Pr(e,r,n);if(r===n)return n;if(t==="ref")s||r(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);n&&e.removeEventListener(d,n),r&&e.addEventListener(d,r)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);n&&e.removeEventListener(d,n,!0),r&&e.addEventListener(d,r,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),h=_r.has(d);if(!h&&n){const p=Array.isArray(n)?n[0]:n;e.removeEventListener(d,p)}(h||r)&&(Er(e,d,r,h),h&&Wt([d]))}else if(t.slice(0,5)==="attr:")re(e,t.slice(5),r);else if((c=t.slice(0,5)==="prop:")||(a=xr.has(t))||!o&&((u=kr(t,e.tagName))||(l=$r.has(t)))||(i=e.nodeName.includes("-")))c&&(t=t.slice(5),l=!0),t==="class"||t==="className"?y(e,r):i&&!l&&!a?e[Lr(t)]=r:e[u||t]=r;else{const d=o&&t.indexOf(":")>-1&&Or[t.split(":")[0]];d?Tr(e,d,t,r):re(e,Sr[t]||t,r)}return r}function Mr(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[t];if(n&&!r.disabled){const o=r[`${t}Data`];if(o!==void 0?n.call(r,o,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function $e(e,t,r,n,o){for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,i=n!==void 0;if(e=i&&r[0]&&r[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===r))return r;if(i){let l=r[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),r=ue(e,r,n,l)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||s==="boolean")r=ue(e,r,n);else{if(s==="function")return I(()=>{let l=t();for(;typeof l=="function";)l=l();r=$e(e,l,r,n)}),()=>r;if(Array.isArray(t)){const l=[],a=r&&Array.isArray(r);if(ot(l,t,r,o))return I(()=>r=$e(e,l,r,n,!0)),()=>r;if(l.length===0){if(r=ue(e,r,n),i)return r}else a?r.length===0?xt(e,l,n):Ir(e,r,l):(r&&ue(e),xt(e,l));r=l}else if(t.nodeType){if(Array.isArray(r)){if(i)return r=ue(e,r,n,t);ue(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function ot(e,t,r,n){let o=!1;for(let s=0,i=t.length;s<i;s++){let l=t[s],a=r&&r[e.length],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))o=ot(e,l,a)||o;else if(u==="function")if(n){for(;typeof l=="function";)l=l();o=ot(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||o}else e.push(l),o=!0;else{const c=String(l);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return o}function xt(e,t,r=null){for(let n=0,o=t.length;n<o;n++)e.insertBefore(t[n],r)}function ue(e,t,r,n){if(r===void 0)return e.textContent="";const o=n||document.createTextNode("");if(t.length){let s=!1;for(let i=t.length-1;i>=0;i--){const l=t[i];if(o!==l){const a=l.parentNode===e;!s&&!i?a?e.replaceChild(o,l):e.insertBefore(o,r):a&&l.remove()}else s=!0}}else e.insertBefore(o,r);return[o]}const Nr=!1,Br="http://www.w3.org/2000/svg";function Ft(e,t=!1){return t?document.createElementNS(Br,e):document.createElement(e)}function Vt(e){const{useShadow:t}=e,r=document.createTextNode(""),n=()=>e.mount||document.body,o=ar();let s,i=!!sr.context;return N(()=>{s||(s=cr(o,()=>k(()=>e.children)));const l=n();if(l instanceof HTMLHeadElement){const[a,u]=B(!1),c=()=>u(!0);we(d=>v(l,()=>a()?d():s(),null)),ee(c)}else{const a=Ft(e.isSVG?"g":"div",e.isSVG),u=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return r.parentNode},configurable:!0}),v(u,s),l.appendChild(a),e.ref&&e.ref(a),ee(()=>l.removeChild(a))}},void 0,{render:!i}),r}function zr(e){const[t,r]=te(e,["component"]),n=k(()=>t.component);return k(()=>{const o=n();switch(typeof o){case"function":return M(()=>o(r));case"string":const s=Ar.has(o),i=Ft(o,s);return oe(i,r,s),i}})}const R=(...e)=>e.filter(Boolean).join(" ");var Rr="fzlx450",Wr="fzlx451",qr="fzlx452",Fr=$("<button>");const Vr={danger:qr,primary:Rr,secondary:Wr},ie=e=>{const[t,r]=te(e,["class","variant","children","size"]);return(()=>{var n=Fr();return oe(n,V({get class(){return R(Vr[t.variant??"primary"],t.size==="small"&&"isSmall",t.class)}},r),!1,!0),v(n,()=>t.children),n})()};var Hr="_1r65rbh0",Ur=$("<input type=checkbox>");const Gr=e=>{const[{class:t},r]=te(e,["class"]);return(()=>{var n=Ur();return oe(n,V({get class(){return R(Hr,t)}},r),!1,!1),n})()};var Kr=$("<svg stroke-width=0>");function se(e,t){const r=V(e.a,t),[n,o]=te(r,["src"]),[s,i]=B(""),l=k(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return N(()=>i(l())),ee(()=>{i("")}),(()=>{var a=Kr();return oe(a,V({get stroke(){var u;return(u=e.a)==null?void 0:u.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},o,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return s()}}),!0,!0),v(a,()=>Nr),a})()}function Xr(e){return se({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M20 6 9 17 4 12"/>'},e)}function Ht(e){return se({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M6 9 12 15 18 9"/>'},e)}function Ut(e){return se({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M12 20h9M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>'},e)}function Qr(e){return se({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>'},e)}function Yr(e){return se({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 12 21 12"/><path d="M3 6 21 6"/><path d="M3 18 21 18"/>'},e)}function Jr(e){return se({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>'},e)}function We(e){return se({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M18 6 6 18"/><path d="M6 6 18 18"/>'},e)}const Zr={300:300,400:400,500:500,600:600,700:700,800:800,bold:700,light:300,normal:400},en={1:"var(--size-font-h1)",2:"var(--size-font-h2)",3:"var(--size-font-h3)",4:"var(--size-font-h4)",5:"var(--size-font-h5)",6:"var(--size-font-h6)"};var tn="j42ytp0";const ke=e=>{const t=V({level:1},e);return g(zr,{get class(){return R(t.class,tn)},get component(){return`h${t.level}`},get style(){return{"font-size":t.size?t.size:en[t.level],"font-weight":t.weight?Zr[t.weight]:"bold"}},get tabIndex(){return t.shouldAutoFocus?-1:void 0},get children(){return t.children}})};var rn="_1x1f9wq0",nn=$("<button>");const Gt=e=>{const[t,r]=te(e,["children","class"]);return(()=>{var n=nn();return oe(n,V({get class(){return R(rn,t.class)}},r),!1,!0),v(n,()=>t.children),n})()};var on="_157mbo93",sn="_157mbo91",ln="_157mbo92",an="_157mbo90",cn=$("<section><div><div>");const un=2,St=e=>`collapse-content-${e}`,Ke=e=>{const[t,r]=B(!1),n=()=>r(o=>!o);return N(()=>{r(!!e.isOpen)}),(()=>{var o=cn(),s=o.firstChild,i=s.firstChild;return y(o,an),v(o,g(ke,{get level(){return e.headingLevel??un},get children(){return g(Gt,{get"aria-controls"(){return St(e.label)},get"aria-expanded"(){return!t()},get class(){return R(sn,t()&&"isOpen")},onClick:n,get children(){return[k(()=>e.label),g(Ht,{get class(){return R(ln,t()&&"isOpen")},size:20})]}})}}),s),v(i,()=>e.content),I(l=>{var a=!t(),u=R(on,t()&&"isOpen"),c=St(e.label);return a!==l.e&&re(s,"aria-hidden",l.e=a),u!==l.t&&y(s,l.t=u),c!==l.a&&re(s,"id",l.a=c),l},{e:void 0,t:void 0,a:void 0}),o})()};var dn="_17qab0y0",fn=$("<div>");const Ee=e=>{const t=k(()=>typeof e.maxWidth=="number"||typeof e.maxWidth=="string"?`${e.maxWidth}px`:void 0);return(()=>{var r=fn();return v(r,()=>e.children),I(n=>{var o=R(dn,e.class),s=t();return o!==n.e&&y(r,n.e=o),s!==n.t&&((n.t=s)!=null?r.style.setProperty("max-width",s):r.style.removeProperty("max-width")),n},{e:void 0,t:void 0}),r})()};var gn="mmo6rq0";const X=e=>{const[{class:t},r]=te(e,["class"]);return g(Gt,V({get class(){return R(gn,t)}},r))};var hn="wbnov20",vn="wbnov21",mn="wbnov22",pn="wbnov23",bn=$("<div>"),yn=$("<div aria-labelledby=drawer-header role=dialog><header id=drawer-header><div></div></header><div>");const st="drawer-container-id";if(!document.getElementById(st)){const e=document.createElement("div");e.setAttribute("id",st),document.body.appendChild(e)}const wn=e=>{const[t,r]=B(!1);let n,o;return N(()=>{document.addEventListener("keydown",({key:s})=>{s==="Escape"&&e.isOpen&&e.onClose()})}),N(()=>{e.isOpen&&r(!0),!e.isOpen&&t()&&setTimeout(()=>{r(!1)},300)}),N(()=>{e.isOpen?setTimeout(()=>{n==null||n.classList.add("isOpen"),o==null||o.classList.add("isOpen")},0):(n==null||n.classList.remove("isOpen"),o==null||o.classList.remove("isOpen"))}),g(Vt,{get mount(){return document.getElementById(st)},get children(){return g(ve,{get when(){return t()},get children(){return[(()=>{var s=bn(),i=n;return typeof i=="function"?me(i,s):n=s,s.$$click=()=>e.onClose(),I(()=>y(s,R(hn))),s})(),(()=>{var s=yn(),i=s.firstChild,l=i.firstChild,a=i.nextSibling,u=o;return typeof u=="function"?me(u,s):o=s,y(s,vn),y(i,mn),v(l,()=>e.heading),v(i,g(X,{get"aria-label"(){return e.closeIconLabel??"close"},get onClick(){return e.onClose},get children(){return g(We,{size:30})}}),null),y(a,pn),v(a,()=>e.children),s})()]}})}})};Wt(["click"]);var $n="_1qzjkoi0",xn="_1qzjkoi1",Sn="_1qzjkoi2",Cn="_1qzjkoi4",kn=$("<label>"),_n=$("<div><input>"),An=$("<span>");const ut=e=>{const[t,r]=te(e,["appearance","class","error","isRequired","label","onInput","value"]),n=k(()=>t.appearance??"block");return(()=>{var o=_n(),s=o.firstChild;return v(o,g(ve,{get when(){return t.label},get children(){var i=kn();return v(i,()=>t.label),I(l=>{var a=R(t.isRequired&&xn),u=t.label;return a!==l.e&&y(i,l.e=a),u!==l.t&&re(i,"for",l.t=u),l},{e:void 0,t:void 0}),i}}),s),y(s,Sn),oe(s,V(r,{get"aria-required"(){return t.isRequired},get id(){return t.label},onInput:i=>t.onInput(i),get value(){return t.value}}),!1,!1),v(o,(()=>{var i=k(()=>!!t.error);return()=>i()&&(()=>{var l=An();return y(l,Cn),v(l,()=>t.error),l})()})(),null),I(()=>y(o,R($n,t.class,n()))),o})()};var On="gxla740",In="gxla741",Dn="gxla742",Tn=$("<div><select></select><div>"),En=$("<option>");const Pn=e=>{const[t,r]=te(e,["class","onChange","value","options"]),n=k(()=>{const o=t.options.find(({value:s})=>s===t.value);return o||console.error(`Error in Select: value ${t.value} not found in ${JSON.stringify(t.options)}`),(o==null?void 0:o.label)??""});return(()=>{var o=Tn(),s=o.firstChild,i=s.nextSibling;return s.addEventListener("change",l=>t.onChange(l)),y(s,In),oe(s,r,!1,!0),v(s,g(Re,{get each(){return t.options},children:l=>(()=>{var a=En();return v(a,()=>l.label),I(()=>a.selected=l.value===t.value),I(()=>a.value=l.value),a})()})),y(i,Dn),v(i,n,null),v(i,g(Ht,{color:"currentcolor",size:20}),null),I(()=>y(o,R(On,t.class))),o})()},it=Symbol("store-raw"),fe=Symbol("store-node"),J=Symbol("store-has"),Kt=Symbol("store-self");function Xt(e){let t=e[G];if(!t&&(Object.defineProperty(e,G,{value:t=new Proxy(e,Mn)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let o=0,s=r.length;o<s;o++){const i=r[o];n[i].get&&Object.defineProperty(e,i,{enumerable:n[i].enumerable,get:n[i].get.bind(t)})}}return t}function Pe(e){let t;return e!=null&&typeof e=="object"&&(e[G]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function xe(e,t=new Set){let r,n,o,s;if(r=e!=null&&e[it])return r;if(!Pe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let i=0,l=e.length;i<l;i++)o=e[i],(n=xe(o,t))!==o&&(e[i]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const i=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let a=0,u=i.length;a<u;a++)s=i[a],!l[s].get&&(o=e[s],(n=xe(o,t))!==o&&(e[s]=n))}return e}function je(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Se(e,t,r){if(e[t])return e[t];const[n,o]=B(r,{equals:!1,internal:!0});return n.$=o,e[t]=n}function jn(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===G||t===fe||(delete r.value,delete r.writable,r.get=()=>e[G][t]),r}function Qt(e){tt()&&Se(je(e,fe),Kt)()}function Ln(e){return Qt(e),Reflect.ownKeys(e)}const Mn={get(e,t,r){if(t===it)return e;if(t===G)return r;if(t===et)return Qt(e),r;const n=je(e,fe),o=n[t];let s=o?o():e[t];if(t===fe||t===J||t==="__proto__")return s;if(!o){const i=Object.getOwnPropertyDescriptor(e,t);tt()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(i&&i.get)&&(s=Se(n,t,s)())}return Pe(s)?Xt(s):s},has(e,t){return t===it||t===G||t===et||t===fe||t===J||t==="__proto__"?!0:(tt()&&Se(je(e,J),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Ln,getOwnPropertyDescriptor:jn};function Le(e,t,r,n=!1){if(!n&&e[t]===r)return;const o=e[t],s=e.length;r===void 0?(delete e[t],e[J]&&e[J][t]&&o!==void 0&&e[J][t].$()):(e[t]=r,e[J]&&e[J][t]&&o===void 0&&e[J][t].$());let i=je(e,fe),l;if((l=Se(i,t,o))&&l.$(()=>r),Array.isArray(e)&&e.length!==s){for(let a=e.length;a<s;a++)(l=i[a])&&l.$();(l=Se(i,"length",s))&&l.$(e.length)}(l=i[Kt])&&l.$()}function Yt(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const o=r[n];Le(e,o,t[o])}}function Nn(e,t){if(typeof t=="function"&&(t=t(e)),t=xe(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const o=t[r];e[r]!==o&&Le(e,r,o)}Le(e,"length",n)}else Yt(e,t)}function ye(e,t,r=[]){let n,o=e;if(t.length>1){n=t.shift();const i=typeof n,l=Array.isArray(e);if(Array.isArray(n)){for(let a=0;a<n.length;a++)ye(e,[n[a]].concat(t),r);return}else if(l&&i==="function"){for(let a=0;a<e.length;a++)n(e[a],a)&&ye(e,[a].concat(t),r);return}else if(l&&i==="object"){const{from:a=0,to:u=e.length-1,by:c=1}=n;for(let d=a;d<=u;d+=c)ye(e,[d].concat(t),r);return}else if(t.length>1){ye(e[n],t,[n].concat(r));return}o=e[n],r=[n].concat(r)}let s=t[0];typeof s=="function"&&(s=s(o,r),s===o)||n===void 0&&s==null||(s=xe(s),n===void 0||Pe(o)&&Pe(s)&&!Array.isArray(s)?Yt(o,s):Le(e,n,s))}function dt(...[e,t]){const r=xe(e||{}),n=Array.isArray(r),o=Xt(r);function s(...i){Y(()=>{n&&i.length===1?Nn(r,i[0]):ye(r,i)})}return[o,s]}const Jt="app-settings",be={alerts:{shouldSendNotification:!1},durations:{longBreak:10,pomodoro:25,shortBreak:5},theme:"OS",todos:[]},Bn=()=>{const e=globalThis.localStorage.getItem(Jt);if(!e)return be;let t;try{t=JSON.parse(e),t={...be,...t,alerts:{...be.alerts,...t.alerts},durations:{...be.durations,...t.durations}}}catch(r){console.error(r),t=be}return t},[z,K]=dt(Bn()),zn=()=>{N(()=>{globalThis.localStorage.setItem(Jt,JSON.stringify(z))})},Me=["pomodoro","shortBreak","pomodoro","shortBreak","pomodoro","shortBreak","pomodoro","longBreak"],[ge,lt]=B(0),Rn=()=>{ge()===Me.length-1?lt(0):lt(ge()+1)},ft=()=>Me[ge()],[de,Ct]=B("stopped"),kt={longBreak:"Long break",pomodoro:"Pomodoro",shortBreak:"Short break"};var _t="_1i2ruzv1",Wn="_1i2ruzv0",qn=$("<div>"),Fn=$("<label for=counter-select>Counter"),Vn=$("<span>");const Hn="counter-select",Un=e=>{const[t,r]=B(!1),n=()=>r(s=>!s),o=k(()=>Me.map((s,i)=>({label:`${i+1}. ${kt[s]}`,value:i.toString()})));if(ge()<0||ge()+1>Me.length)throw new Error("Invalid currentCounterIndex value");return(()=>{var s=qn();return v(s,(()=>{var i=k(()=>!!t());return()=>i()?[(()=>{var l=Fn();return y(l,_t),l})(),g(Pn,{get disabled(){return de()!=="stopped"},id:Hn,onChange:({currentTarget:l})=>{lt(parseInt(l.value))},get options(){return o()},get value(){return ge().toString()}}),g(X,{"aria-label":"close counter editing",onClick:n,get children(){return g(We,{size:30})}})]:[(()=>{var l=Vn();return y(l,_t),v(l,()=>kt[ft()]),l})(),g(X,{"aria-label":"edit counter type",onClick:n,get children(){return g(Ut,{size:30})}})]})()),I(()=>y(s,R(e.class,Wn))),s})()};var Gn="_12tcluv0",Kn="_12tcluv1";const At=e=>e.toString().padStart(2,"0"),Xn=e=>{const t=Math.floor(e/60),r=e-t*60;return`${At(t)}:${At(r)}`},Qn=e=>({startWorkerCounter(t){const r={time:t,type:"start"};e.postMessage(r)},stopWorkerCounter(){const t={type:"stop"};e.postMessage(t)}});var Yn=$("<div data-testid=remainingTime>"),Jn=$("<div>");const Zt=new Worker(new URL("/pomodoro/assets/worker-AKcIZgrQ.js",import.meta.url)),{startWorkerCounter:Zn,stopWorkerCounter:eo}=Qn(Zt),to=e=>{const t=()=>z.durations[ft()]*60,[r,n]=B(t()),o=k(()=>de()==="stopped"&&r()>0),s=k(()=>de()==="stopped"),i=k(()=>de()==="running"&&r()>0),l=()=>{Zn(o()?r():t()),Ct("running")},a=()=>{eo(),Ct("stopped")},u=()=>{n(t()),a()},c=()=>{Zt.onmessage=({data:h})=>{var p;n(h.newTime),h.newTime===0&&(a(),(p=e.onComplete)==null||p.call(e))}},d=()=>{n(t())};return N(c),N(d),[g(Un,{}),(()=>{var h=Yn();return y(h,Gn),v(h,()=>Xn(r())),h})(),(()=>{var h=Jn();return y(h,Kn),v(h,(()=>{var p=k(()=>!!s());return()=>p()&&g(ie,{get disabled(){return r()===0},onClick:l,variant:"primary",children:"Start"})})(),null),v(h,(()=>{var p=k(()=>!!i());return()=>p()&&g(ie,{onClick:a,variant:"secondary",children:"Pause"})})(),null),v(h,g(ie,{get disabled(){return de()==="running"},onClick:u,variant:"danger",children:"Reset"}),null),h})()]};var Xe="_19of9ja",Qe="_19of9j0",ro={color:{background:"var(--_19of9j1)",backgroundInverted:"var(--_19of9j2)",ctaBackground:"var(--_19of9j3)",ctaText:"var(--_19of9j4)",danger:"var(--_19of9j5)",font:"var(--_19of9j6)",fontInverted:"var(--_19of9j7)",overlay:"var(--_19of9j8)",shadowColor:"var(--_19of9j9)"},opacity:{inputDisabled:"var(--_19of9jb)"},shadow:{lowElevation:"var(--_19of9jc)",mediumElevation:"var(--_19of9jd)",highElevation:"var(--_19of9je)"},inputOffset:"4px",transition:{buttonHoverEnd:"400ms",buttonHoverStart:"200ms"}};const no="3.7.0";var oo="_1nxqvfj0",so="_1nxqvfj1",io="_1nxqvfj2",lo=$("<span>App version: "),ao=$('<a href=https://github.com/MkMan/pomodoro target=blank title="Source code">'),co=$("<footer>");const uo=()=>(()=>{var e=co();return y(e,oo),v(e,g(Ee,{class:so,maxWidth:1e3,get children(){return[(()=>{var t=lo();return t.firstChild,v(t,no,null),t})(),(()=>{var t=ao();return y(t,io),v(t,g(Qr,{get color(){return ro.color.font},size:20})),t})()]}})),e})();var fo="_10iva1t0",go="_10iva1t1",ho=$("<div>"),vo=$("<header>");const mo=e=>(()=>{var t=vo();return v(t,g(Ee,{maxWidth:1e3,get children(){var r=ho();return y(r,fo),v(r,g(X,{"aria-label":"settings menu",get onClick(){return e.onSettingsClick},get children(){return g(Yr,{size:30})}}),null),v(r,g(ke,{size:"3rem",children:"Pomodoro"}),null),r}})),I(()=>y(t,R(go,e.class))),t})(),po="modulepreload",bo=function(e){return"/pomodoro/"+e},Ot={},yo=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(r.map(l=>{if(l=bo(l),l in Ot)return;Ot[l]=!0;const a=l.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":po,a||(c.as="script",c.crossOrigin=""),c.href=l,i&&c.setAttribute("nonce",i),document.head.appendChild(c),a)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}return o.then(()=>t()).catch(s=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s})};function wo(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:o,onRegisteredSW:s,onRegisterError:i}=e;let l,a,u;const c=async(h=!0)=>{await a,await(u==null?void 0:u())};async function d(){if("serviceWorker"in navigator){if(l=await yo(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-D5gOYdM7.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/pomodoro/sw.js",{scope:"/pomodoro/",type:"classic"})).catch(h=>{i==null||i(h)}),!l)return;u=async()=>{await(l==null?void 0:l.messageSkipWaiting())};{let h=!1;const p=()=>{h=!0,l==null||l.addEventListener("controlling",x=>{x.isUpdate&&window.location.reload()}),r==null||r()};l.addEventListener("installed",x=>{typeof x.isUpdate>"u"?typeof x.isExternal<"u"?x.isExternal?p():!h&&(n==null||n()):x.isExternal?window.location.reload():!h&&(n==null||n()):x.isUpdate||n==null||n()}),l.addEventListener("waiting",p),l.addEventListener("externalwaiting",p)}l.register({immediate:t}).then(h=>{s?s("/pomodoro/sw.js",h):o==null||o(h)}).catch(h=>{i==null||i(h)})}}return a=d(),c}function $o(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:n,onRegistered:o,onRegisteredSW:s,onRegisterError:i}=e,[l,a]=B(!1),[u,c]=B(!1),d=wo({immediate:t,onOfflineReady(){c(!0),n==null||n()},onNeedRefresh(){a(!0),r==null||r()},onRegistered:o,onRegisteredSW:s,onRegisterError:i});return{needRefresh:[l,a],offlineReady:[u,c],updateServiceWorker:d}}var xo="oe52153",So="oe52150",Co="oe52151",ko="oe52152",_o=$("<div><div>App ready to work offline</div><div>"),Ao=$("<div>");const Oo=()=>{const{needRefresh:[e,t],updateServiceWorker:r}=$o({onRegisterError(o){console.error("SW registration error",o)},onRegistered(o){console.log(`SW Registered: ${(o==null?void 0:o.toString())??""}`)}}),n=()=>{t(!1)};return(()=>{var o=Ao();return y(o,So),v(o,g(ve,{get when(){return e()},get children(){var s=_o(),i=s.firstChild,l=i.nextSibling;return y(s,Co),y(i,ko),y(l,xo),v(l,g(ie,{onClick:()=>{r(!0).catch(a=>{console.error("Error updating service worker",a)})},size:"small",variant:"primary",children:"Reload"}),null),v(l,g(ie,{onClick:()=>n(),size:"small",variant:"danger",children:"Close"}),null),s}})),o})()};var Io="_1s8jcp60";const Do=(e,t)=>{if(Notification.permission==="denied")return;const{checked:r}=e.currentTarget;if(Notification.permission==="granted"||!r){K("alerts","shouldSendNotification",r);return}Notification.requestPermission().then(n=>{n==="granted"?K("alerts","shouldSendNotification",!0):t()}).catch(n=>{console.error("Failed to request notification permission",n),t()})};var To=$("<label><input type=checkbox>System notifications");const Eo=()=>{let e;const[t,r]=B(Notification.permission==="denied"),n=()=>{e.checked=!1,r(!0)};return(()=>{var o=To(),s=o.firstChild;y(o,Io);var i=e;return typeof i=="function"?me(i,s):e=s,s.addEventListener("change",l=>Do(l,n)),I(()=>s.disabled=t()),I(()=>s.checked=z.alerts.shouldSendNotification),o})()},Po={isRequired:!0,min:1,type:"number"},jo=[{label:"Pomodoro",stateName:"pomodoro"},{label:"Short break",stateName:"shortBreak"},{label:"Long break",stateName:"longBreak"}];var Lo="_11flgkc0";const Ye=z.durations,Mo=()=>g(Re,{each:jo,children:({label:e,stateName:t})=>g(ut,V(Po,{class:Lo,get disabled(){return de()!=="stopped"},get error(){return Ye[t]<=0&&`${e} must be greater than 0`},label:e,onInput:r=>{const n=r.currentTarget.valueAsNumber||0;K("durations",t,n)},get value(){return Ye[t]===0?"":Ye[t]}}))});var No="_1qlw2ha0",Bo="_13oy0821",zo="_13oy0820",Ro=$("<fieldset>"),Wo=$("<label><input name=theme type=radio><span>");const qo=[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"System default",value:"OS"}],Fo=()=>{const e=z.theme;return(()=>{var t=Ro();return y(t,Bo),v(t,g(Re,{each:qo,children:r=>(()=>{var n=Wo(),o=n.firstChild,s=o.nextSibling;return y(n,zo),o.addEventListener("change",({currentTarget:i})=>{K("theme",i.value)}),v(s,()=>r.label),I(()=>o.checked=e===r.value),I(()=>o.value=r.value),n})()})),t})()};var Vo=$("<div>");const Ho=e=>(()=>{var t=Vo();return y(t,No),v(t,g(Ke,{get content(){return g(Mo,{})},headingLevel:3,isOpen:!0,label:"Durations"}),null),v(t,g(Ke,{get content(){return g(Eo,{})},headingLevel:3,label:"Alerts"}),null),v(t,g(Ke,{get content(){return g(Fo,{})},headingLevel:3,label:"Theme"}),null),I(()=>re(t,"data-testid",e.dataTestId)),t})();var Uo="nv47c11",Go="nv47c12",It="nv47c13",Ko="nv47c10",Xo=$("<div>"),qe=class{constructor(e){pe(this,"x");pe(this,"y");pe(this,"width");pe(this,"height");this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},he=e=>{let t=new qe(e.getBoundingClientRect());const{transform:r}=getComputedStyle(e);return r&&(t=Qo(t,r)),t},Qo=(e,t)=>{let r,n;if(t.startsWith("matrix3d(")){const o=t.slice(9,-1).split(/, /);r=+o[12],n=+o[13]}else if(t.startsWith("matrix(")){const o=t.slice(7,-1).split(/, /);r=+o[4],n=+o[5]}else r=0,n=0;return new qe({...e,x:e.x-r,y:e.y-n})},U=()=>({x:0,y:0}),gt=(e,t)=>e.x===t.x&&e.y===t.y,Je=(e,t)=>new qe({...e,x:e.x+t.x,y:e.y+t.y}),Yo=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),Jo=(e,t)=>{const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),o=Math.min(e.right,t.right),s=Math.min(e.bottom,t.bottom),i=o-n,l=s-r;if(n<o&&r<s){const a=e.width*e.height,u=t.width*t.height,c=i*l;return c/(a+u-c)}return 0},Ze=(e,t)=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height,Zo=(e,t,r)=>{const n=e.transformed.center,o={distance:1/0,droppable:null};for(const s of t){const i=Yo(n,s.layout.center);i<o.distance?(o.distance=i,o.droppable=s):i===o.distance&&s.id===r.activeDroppableId&&(o.droppable=s)}return o.droppable},es=(e,t,r)=>{const n=e.transformed,o={ratio:0,droppable:null};for(const s of t){const i=Jo(n,s.layout);i>o.ratio?(o.ratio=i,o.droppable=s):i>0&&i===o.ratio&&s.id===r.activeDroppableId&&(o.droppable=s)}return o.droppable},er=Lt(),ts=e=>{const t=V({collisionDetector:es},e),[r,n]=dt({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return r.active.draggableId!==null?r.draggables[r.active.draggableId]:null},droppableId:null,get droppable(){return r.active.droppableId!==null?r.droppables[r.active.droppableId]:null},sensorId:null,get sensor(){return r.active.sensorId!==null?r.sensors[r.active.sensorId]:null},overlay:null}}),o=(f,m,w)=>{f.substring(0,f.length-1),M(()=>r[f][m])&&n(f,m,"transformers",w.id,w)},s=(f,m,w)=>{f.substring(0,f.length-1),M(()=>r[f][m])&&M(()=>r[f][m].transformers[w])&&n(f,m,"transformers",w,void 0)},i=({id:f,node:m,layout:w,data:F})=>{const S=r.draggables[f],C={id:f,node:m,layout:w,data:F,_pendingCleanup:!1};let L;if(!S)Object.defineProperties(C,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(r.active.overlay)return U();const W=Object.values(r.draggables[f].transformers);return W.sort((H,ce)=>H.order-ce.order),W.reduce((H,ce)=>ce.callback(H),U())}},transformed:{enumerable:!0,configurable:!0,get:()=>Je(r.draggables[f].layout,r.draggables[f].transform)}});else if(r.active.draggableId===f&&!r.active.overlay){const W={x:S.layout.x-w.x,y:S.layout.y-w.y},H="addDraggable-existing-offset",ce=S.transformers[H],mt=ce?ce.callback(W):W;L={id:H,order:100,callback:pt=>({x:pt.x+mt.x,y:pt.y+mt.y})},He(()=>s("draggables",f,H))}Y(()=>{n("draggables",f,C),L&&o("draggables",f,L)}),r.active.draggable&&P()},l=f=>{M(()=>r.draggables[f])&&(n("draggables",f,"_pendingCleanup",!0),queueMicrotask(()=>a(f)))},a=f=>{var m;if((m=r.draggables[f])!=null&&m._pendingCleanup){const w=r.active.draggableId===f;Y(()=>{w&&n("active","draggableId",null),n("draggables",f,void 0)})}},u=({id:f,node:m,layout:w,data:F})=>{const S=r.droppables[f],C={id:f,node:m,layout:w,data:F,_pendingCleanup:!1};S||Object.defineProperties(C,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const L=Object.values(r.droppables[f].transformers);return L.sort((W,H)=>W.order-H.order),L.reduce((W,H)=>H.callback(W),U())}},transformed:{enumerable:!0,configurable:!0,get:()=>Je(r.droppables[f].layout,r.droppables[f].transform)}}),n("droppables",f,C),r.active.draggable&&P()},c=f=>{M(()=>r.droppables[f])&&(n("droppables",f,"_pendingCleanup",!0),queueMicrotask(()=>d(f)))},d=f=>{var m;if((m=r.droppables[f])!=null&&m._pendingCleanup){const w=r.active.droppableId===f;Y(()=>{w&&n("active","droppableId",null),n("droppables",f,void 0)})}},h=({id:f,activators:m})=>{n("sensors",f,{id:f,activators:m,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:r.sensors[f].coordinates.current.x-r.sensors[f].coordinates.origin.x,y:r.sensors[f].coordinates.current.y-r.sensors[f].coordinates.origin.y}}}})},p=f=>{if(!M(()=>r.sensors[f]))return;const m=r.active.sensorId===f;Y(()=>{m&&n("active","sensorId",null),n("sensors",f,void 0)})},x=({node:f,layout:m})=>{const w=r.active.overlay,F={node:f,layout:m};w||Object.defineProperties(F,{id:{enumerable:!0,configurable:!0,get:()=>{var S;return(S=r.active.draggable)==null?void 0:S.id}},data:{enumerable:!0,configurable:!0,get:()=>{var S;return(S=r.active.draggable)==null?void 0:S.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(r.active.draggable?r.active.draggable.transformers:{}).filter(([S])=>S!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const S=Object.values(r.active.overlay?r.active.overlay.transformers:[]);return S.sort((C,L)=>C.order-L.order),S.reduce((C,L)=>L.callback(C),U())}},transformed:{enumerable:!0,configurable:!0,get:()=>r.active.overlay?Je(r.active.overlay.layout,r.active.overlay.transform):new qe({x:0,y:0,width:0,height:0})}}),n("active","overlay",F)},_=()=>n("active","overlay",null),b=(f,m)=>{Y(()=>{n("sensors",f,"coordinates",{origin:{...m},current:{...m}}),n("active","sensorId",f)})},O=f=>{const m=r.active.sensorId;m&&n("sensors",m,"coordinates","current",{...f})},T=()=>n("active","sensorId",null),E=(f,m)=>{const w={};for(const S of Object.values(r.sensors))if(S)for(const[C,L]of Object.entries(S.activators))w[C]??(w[C]=[]),w[C].push({sensor:S,activator:L});const F={};for(const S in w){let C=S;m&&(C=`on${S}`),F[C]=L=>{for(const{activator:W}of w[S]){if(r.active.sensor)break;W(L,f)}}}return F},P=()=>{let f=!1;const m=Object.values(r.draggables),w=Object.values(r.droppables),F=r.active.overlay;return Y(()=>{const S=new WeakMap;for(const C of m)if(C){const L=C.layout;S.has(C.node)||S.set(C.node,he(C.node));const W=S.get(C.node);Ze(L,W)||(n("draggables",C.id,"layout",W),f=!0)}for(const C of w)if(C){const L=C.layout;S.has(C.node)||S.set(C.node,he(C.node));const W=S.get(C.node);Ze(L,W)||(n("droppables",C.id,"layout",W),f=!0)}if(F){const C=F.layout,L=he(F.node);Ze(C,L)||(n("active","overlay","layout",L),f=!0)}}),f},j=()=>{const f=r.active.overlay??r.active.draggable;if(f){const m=t.collisionDetector(f,Object.values(r.droppables),{activeDroppableId:r.active.droppableId}),w=m?m.id:null;r.active.droppableId!==w&&n("active","droppableId",w)}},Q=f=>{const m={id:"sensorMove",order:0,callback:w=>r.active.sensor?{x:w.x+r.active.sensor.coordinates.delta.x,y:w.y+r.active.sensor.coordinates.delta.y}:w};P(),Y(()=>{n("active","draggableId",f),o("draggables",f,m)}),j()},_e=()=>{const f=M(()=>r.active.draggableId);Y(()=>{f!==null&&s("draggables",f,"sensorMove"),n("active",["draggableId","droppableId"],null)}),P()},ht=f=>{N(()=>{const m=r.active.draggable;m&&M(()=>f({draggable:m}))})},Ve=f=>{N(()=>{const m=r.active.draggable;if(m){const w=M(()=>r.active.overlay);Object.values(w?w.transform:m.transform),M(()=>f({draggable:m,overlay:w}))}})},vt=f=>{N(()=>{const m=r.active.draggable,w=r.active.droppable;m&&M(()=>f({draggable:m,droppable:w,overlay:r.active.overlay}))})},He=f=>{N(({previousDraggable:m,previousDroppable:w,previousOverlay:F})=>{const S=r.active.draggable,C=S?r.active.droppable:null,L=S?r.active.overlay:null;return!S&&m&&M(()=>f({draggable:m,droppable:w,overlay:F})),{previousDraggable:S,previousDroppable:C,previousOverlay:L}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};Ve(()=>j()),t.onDragStart&&ht(t.onDragStart),t.onDragMove&&Ve(t.onDragMove),t.onDragOver&&vt(t.onDragOver),t.onDragEnd&&He(t.onDragEnd);const rr=[r,{addTransformer:o,removeTransformer:s,addDraggable:i,removeDraggable:l,addDroppable:u,removeDroppable:c,addSensor:h,removeSensor:p,setOverlay:x,clearOverlay:_,recomputeLayouts:P,detectCollisions:j,draggableActivators:E,sensorStart:b,sensorMove:O,sensorEnd:T,dragStart:Q,dragEnd:_e,onDragStart:ht,onDragMove:Ve,onDragOver:vt,onDragEnd:He}];return g(er.Provider,{value:rr,get children(){return t.children}})},ae=()=>Mt(er)||null,rs=(e="pointer-sensor")=>{const[t,{addSensor:r,removeSensor:n,sensorStart:o,sensorMove:s,sensorEnd:i,dragStart:l,dragEnd:a}]=ae(),u=250,c=10;Be(()=>{r({id:e,activators:{pointerdown:_}})}),ee(()=>{n(e)});const d=()=>t.active.sensorId===e,h={x:0,y:0};let p=null,x=null;const _=(j,Q)=>{j.button===0&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",E),x=Q,h.x=j.clientX,h.y=j.clientY,p=window.setTimeout(O,u))},b=()=>{p&&(clearTimeout(p),p=null),document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",E),document.removeEventListener("selectionchange",P)},O=()=>{t.active.sensor?d()||b():(o(e,h),l(x),P(),document.addEventListener("selectionchange",P))},T=j=>{const Q={x:j.clientX,y:j.clientY};if(!t.active.sensor){const _e={x:Q.x-h.x,y:Q.y-h.y};Math.sqrt(_e.x**2+_e.y**2)>c&&O()}d()&&(j.preventDefault(),s(Q))},E=j=>{b(),d()&&(j.preventDefault(),a(),i())},P=()=>{var j;(j=window.getSelection())==null||j.removeAllRanges()}},ns=e=>(rs(),k(()=>e.children)),Fe=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),os=(e,t={})=>{const[r,{addDraggable:n,removeDraggable:o,draggableActivators:s}]=ae(),[i,l]=B(null);Be(()=>{const d=i();d&&n({id:e,node:d,layout:he(d),data:t})}),ee(()=>o(e));const a=()=>r.active.draggableId===e,u=()=>{var d;return((d=r.draggables[e])==null?void 0:d.transform)||U()};return Object.defineProperties((d,h)=>{const p=h?h():{};N(()=>{const x=i(),_=s(e);if(x)for(const b in _)x.addEventListener(b,_[b]);ee(()=>{if(x)for(const b in _)x.removeEventListener(b,_[b])})}),l(d),p.skipTransform||N(()=>{const x=u();if(gt(x,U()))d.style.removeProperty("transform");else{const _=Fe(u());d.style.setProperty("transform",_.transform??null)}})},{ref:{enumerable:!0,value:l},isActiveDraggable:{enumerable:!0,get:a},dragActivators:{enumerable:!0,get:()=>s(e,!0)},transform:{enumerable:!0,get:u}})},ss=(e,t={})=>{const[r,{addDroppable:n,removeDroppable:o}]=ae(),[s,i]=B(null);Be(()=>{const c=s();c&&n({id:e,node:c,layout:he(c),data:t})}),ee(()=>o(e));const l=()=>r.active.droppableId===e,a=()=>{var c;return((c=r.droppables[e])==null?void 0:c.transform)||U()};return Object.defineProperties((c,d)=>{const h=d?d():{};i(c),h.skipTransform||N(()=>{const p=a();if(gt(p,U()))c.style.removeProperty("transform");else{const x=Fe(a());c.style.setProperty("transform",x.transform??null)}})},{ref:{enumerable:!0,value:i},isActiveDroppable:{enumerable:!0,get:l},transform:{enumerable:!0,get:a}})},is=e=>{const[t,{onDragStart:r,onDragEnd:n,setOverlay:o,clearOverlay:s}]=ae();let i;r(({draggable:a})=>{o({node:a.node,layout:a.layout}),queueMicrotask(()=>{if(i){const u=he(i),c={x:(a.layout.width-u.width)/2,y:(a.layout.height-u.height)/2};u.x+=c.x,u.y+=c.y,o({node:i,layout:u})}})}),n(()=>queueMicrotask(s));const l=()=>{const a=t.active.overlay,u=t.active.draggable;return!a||!u?{}:{position:"fixed",transition:"transform 0s",top:`${a.layout.top}px`,left:`${a.layout.left}px`,"min-width":`${u.layout.width}px`,"min-height":`${u.layout.height}px`,...Fe(a.transform),...e.style}};return g(Vt,{get mount(){return document.body},get children(){return g(ve,{get when(){return t.active.draggable},get children(){var a=Xo(),u=i;return typeof u=="function"?me(u,a):i=a,v(a,(()=>{var c=k(()=>typeof e.children=="function");return()=>c()?e.children(t.active.draggable):e.children})()),I(c=>{var d=e.class,h=l();return d!==c.e&&y(a,c.e=d),c.t=qt(a,h,c.t),c},{e:void 0,t:void 0}),a}})}})},ls=(e,t,r)=>{const n=e.slice();return n.splice(r,0,...n.splice(t,1)),n},tr=Lt(),as=e=>{const[t]=ae(),[r,n]=dt({initialIds:[],sortedIds:[]}),o=l=>l>=0&&l<r.initialIds.length;N(()=>{n("initialIds",[...e.ids]),n("sortedIds",[...e.ids])}),N(()=>{t.active.draggableId&&t.active.droppableId?M(()=>{const l=r.sortedIds.indexOf(t.active.draggableId),a=r.initialIds.indexOf(t.active.droppableId);if(!o(l)||!o(a))n("sortedIds",[...e.ids]);else if(l!==a){const u=ls(r.sortedIds,l,a);n("sortedIds",u)}}):n("sortedIds",[...e.ids])});const i=[r,{}];return g(tr.Provider,{value:i,get children(){return e.children}})},cs=()=>Mt(tr)||null,us=(e,t)=>r=>{e(r),t(r)},ds=(e,t={})=>{const[r,{addTransformer:n,removeTransformer:o}]=ae(),[s]=cs(),i=os(e,t),l=ss(e,t),a=us(i.ref,l.ref),u=()=>s.initialIds.indexOf(e),c=()=>s.sortedIds.indexOf(e),d=b=>{var O;return((O=r.droppables[b])==null?void 0:O.layout)||null},h=()=>{const b=U(),O=u(),T=c();if(T!==O){const E=d(e),P=d(s.initialIds[T]);E&&P&&(b.x=P.x-E.x,b.y=P.y-E.y)}return b},p={id:"sortableOffset",order:100,callback:b=>{const O=h();return{x:b.x+O.x,y:b.y+O.y}}};Be(()=>n("droppables",e,p)),ee(()=>o("droppables",e,p.id));const x=()=>{var b,O;return(e===r.active.draggableId&&!r.active.overlay?(b=r.draggables[e])==null?void 0:b.transform:(O=r.droppables[e])==null?void 0:O.transform)||U()};return Object.defineProperties(b=>{i(b,()=>({skipTransform:!0})),l(b,()=>({skipTransform:!0})),N(()=>{const O=x();if(gt(O,U()))b.style.removeProperty("transform");else{const T=Fe(x());b.style.setProperty("transform",T.transform??null)}})},{ref:{enumerable:!0,value:a},transform:{enumerable:!0,get:x},isActiveDraggable:{enumerable:!0,get:()=>i.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>i.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>l.isActiveDroppable}})};function fs(e){return se({a:{viewBox:"0 0 1024 1024"},c:'<defs><style/></defs><path d="m899.1 869.6-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6c-.3 1.5-.4 3-.4 4.4 0 14.4 11.6 26 26 26h723c1.5 0 3-.1 4.4-.4 14.2-2.4 23.7-15.9 21.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"/>'},e)}var Dt="_1220xja0";const gs=e=>[g(ve,{get when(){return e.shouldShowDeleteCompletedTodosButton},get children(){return g(X,{class:Dt,get onClick(){return e.onDeletingCompletedTodos},title:"remove completed todos",get children(){return g(fs,{size:30})}})}}),g(ve,{get when(){return e.shouldShowDeleteAllTodosButton},get children(){return g(X,{class:Dt,get onClick(){return e.onDeletingAllTodos},title:"delete all todos",get children(){return g(Jr,{size:30})}})}})];var hs="uta7nw5",vs="uta7nw7 uta7nw4",ms="uta7nw1",ps="uta7nw2",bs="uta7nw3",ys="uta7nw4",ws="uta7nw6",$s="uta7nw0",xs="ylbcqb2",Ss="ylbcqb1",Cs="ylbcqb0",ks=$('<form name="new todo details"><div>');const Tt="",_s=e=>{let t;const[r,n]=B(Tt),o=s=>{var i;s.preventDefault(),r().trim().length!==0&&((i=e.onSubmit)==null||i.call(e,r()),n(Tt))};return N(()=>{t==null||t.focus()}),(()=>{var s=ks(),i=s.firstChild;return s.addEventListener("submit",o),y(i,Cs),v(i,g(ke,{class:Ss,level:3,children:"New todo"}),null),v(i,g(X,{get onClick(){return e.onClose},title:"close new todo form",type:"button",get children(){return g(We,{size:25})}}),null),v(s,g(ut,{label:"New todo description",onInput:({currentTarget:l})=>n(l.value),ref(l){var a=t;typeof a=="function"?a(l):t=l},get value(){return r()}}),null),v(s,g(ie,{class:xs,size:"small",type:"submit",children:"Create"}),null),I(()=>y(s,e.class)),s})()},As="hasReducedOpacity",Os="hasTransitionTransform",Et={hasReducedOpacity:As,hasTransitionTransform:Os};var Is="h8vgx01",Ds="h8vgx02",Ts="h8vgx03 h8vgx00",Es="h8vgx00";const Ps=()=>{const e=["solid","wavy","double"],t=Math.floor(Math.random()*e.length);return e[t]};var js=$("<li>"),Ls=$("<label>"),Ms=$("<form>");const Ns=e=>{var h;const[t,r]=te(e,["class","description","id","onDelete","onDescriptionChange","onStatusChange","status"]);let n;const o=ds(t.id),s=(h=ae())==null?void 0:h[0],[i,l]=B("display"),[a,u]=B(""),c=k(()=>t.status==="completed"),d=()=>t.onStatusChange(c()?"not-started":"completed");return N(()=>{i()==="edit"&&(u(t.description),n==null||n.focus())}),(()=>{var p=js();return me(o,p,()=>!0),oe(p,V({get class(){return R(t.class,Es,o.isActiveDraggable&&Et.hasReducedOpacity,!!(s!=null&&s.active.draggable)&&Et.hasTransitionTransform)},get title(){return t.description}},r),!1,!0),v(p,(()=>{var x=k(()=>i()==="display");return()=>x()&&[g(Gr,{get checked(){return c()},get id(){return t.description},onChange:d}),(()=>{var _=Ls();return v(_,()=>t.description),I(b=>{var O=R(Is,c()&&"isCompleted"),T=t.description,E=Ps();return O!==b.e&&y(_,b.e=O),T!==b.t&&re(_,"for",b.t=T),E!==b.a&&((b.a=E)!=null?_.style.setProperty("text-decoration-style",E):_.style.removeProperty("text-decoration-style")),b},{e:void 0,t:void 0,a:void 0}),_})(),g(X,{onClick:()=>l("edit"),title:"Edit",get children(){return g(Ut,{size:25})}}),g(X,{get onClick(){return t.onDelete},title:"Delete",get children(){return g(We,{size:25})}})]})(),null),v(p,(()=>{var x=k(()=>i()==="edit");return()=>x()&&(()=>{var _=Ms();return y(_,Ts),v(_,g(ut,{class:Ds,onInput:({currentTarget:b})=>u(b.value),ref(b){var O=n;typeof O=="function"?O(b):n=b},get value(){return t.description}}),null),v(_,g(X,{onClick:b=>{b.preventDefault(),t.onDescriptionChange(a()),l("display")},title:"Save",type:"submit",get children(){return g(Xr,{size:25})}}),null),_})()})(),null),p})()},Bs=e=>{K("todos",t=>[...t,{description:e,id:globalThis.crypto.randomUUID(),status:"not-started"}])},zs=()=>{K("todos",z.todos.filter(({status:e})=>e!=="completed"))},Rs=()=>{window.confirm("This will delete all todos. Are you sure?")&&K("todos",[])},Ws=e=>t=>{K("todos",e,"status",t)},qs=e=>t=>{K("todos",e,"description",t)},Fs=e=>()=>{const t=[...z.todos];t.splice(e,1),K("todos",t)},Vs=e=>({draggable:t,droppable:r})=>{if(!r||!t)return;const n=e().indexOf(t.id.toString()),o=e().indexOf(r.id.toString());if(n===o)return;const s=[...z.todos],i=s.splice(n,1)[0];s.splice(o,0,i),K("todos",s)},Hs=()=>{const[e,t]=B();return{draggedTodo:k(()=>z.todos.find(({id:n})=>n===e())),onDragStart:({draggable:{id:n}})=>t(n)}};var Us=$("<ul>"),Gs=$("<section><div></div><div>"),Ks=$("<div>");const Xs=()=>{const[e,t]=B(!1),r=()=>t(!e()),{draggedTodo:n,onDragStart:o}=Hs(),s=k(()=>!!z.todos.length&&z.todos.length>0),i=k(()=>z.todos.some(({status:a})=>a==="completed")),l=k(()=>z.todos.map(({id:a})=>a));return(()=>{var a=Gs(),u=a.firstChild,c=u.nextSibling;return y(a,$s),y(u,ms),v(u,g(ke,{class:ps,level:2,children:"Todos"}),null),v(u,g(gs,{onDeletingAllTodos:Rs,onDeletingCompletedTodos:zs,get shouldShowDeleteAllTodosButton(){return s()},get shouldShowDeleteCompletedTodosButton(){return i()}}),null),v(a,g(ts,{collisionDetector:Zo,get onDragEnd(){return Vs(l)},onDragStart:o,get children(){return[g(ns,{}),(()=>{var d=Us();return y(d,bs),v(d,g(as,{get ids(){return l()},get children(){return g(Re,{get each(){return z.todos},children:(h,p)=>g(Ns,V(h,{class:ys,"data-testid":"todo-item",get onDelete(){return Fs(p())},get onDescriptionChange(){return qs(p())},get onStatusChange(){return Ws(p())}}))})}})),d})(),g(is,{get children(){return k(()=>!!n())()&&(()=>{var d=Ks();return y(d,vs),v(d,()=>{var h;return(h=n())==null?void 0:h.description}),d})()}})]}}),c),v(c,(()=>{var d=k(()=>!!e());return()=>d()?g(_s,{onClose:r,onSubmit:Bs}):g(ie,{class:hs,onClick:r,size:"small",children:"Create a todo"})})()),I(()=>y(c,R(z.todos.length>0&&ws))),a})()},Qs="/pomodoro/assets/alarm-1-BS_hS4XZ.mp3",Ys={alarm1:Qs},Js={longBreak:"Time for a long break ",pomodoro:"Break is up, back to it ",shortBreak:"Time for a short break "},Zs=()=>new Audio(Ys.alarm1),ei=e=>{new Notification(Js[e],{requireInteraction:!0})},ti=()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=window.matchMedia("(prefers-color-scheme: light)"),r=e.matches,n=t.matches,[o,s]=B(r?"dark":n?"light":void 0);e.addEventListener("change",({matches:i})=>{i&&s("dark")}),t.addEventListener("change",({matches:i})=>{i&&s("light")}),N(()=>{z.theme==="OS"&&document.body.setAttribute("class",R(o()==="dark"?Xe:Qe)),z.theme==="light"&&(document.body.classList.add(Qe),document.body.classList.remove(Xe)),z.theme==="dark"&&(document.body.classList.add(Xe),document.body.classList.remove(Qe))})};var ri=$("<div><main>");const ni=()=>{zn(),ti();const e=Zs(),[t,r]=B(!1),n=k(()=>z.alerts.shouldSendNotification&&Notification.permission==="granted"),o=()=>{e.play().catch(console.error),Rn(),n()&&ei(ft())};return(()=>{var s=ri(),i=s.firstChild;return y(s,Ko),v(s,g(Oo,{}),i),v(s,g(mo,{class:Uo,onSettingsClick:()=>r(!0)}),i),y(i,Go),v(i,g(Ee,{class:It,maxWidth:600,get children(){return g(to,{onComplete:o})}}),null),v(i,g(Ee,{class:It,maxWidth:600,get children(){return g(Xs,{})}}),null),v(s,g(wn,{closeIconLabel:"close settings menu",get heading(){return g(ke,{level:2,shouldAutoFocus:!0,children:"Settings"})},get isOpen(){return t()},onClose:()=>r(!1),get children(){return g(Ho,{dataTestId:"appSettings"})}}),null),v(s,g(uo,{}),null),s})()};Dr(()=>g(ni,{}),document.getElementById("root"));
